{% extends 'base.html' %}
{% block title %}Admin Dashboard â€” HanapEskwela{% endblock %}
{% block content %}
  <section style="padding:25px;">
    <h2>Admin Dashboard</h2>
    <p>Only users with admin privileges can reach this page. Use this area to manage schools, edit listings, and remove schools.</p>

    <div class="admin-grid">
      <!-- Manage Schools Section -->
      <div class="card" style="grid-column:1 / -1;">
        <h3>Manage Schools</h3>

        <!-- Add School Form -->
        <form action="{{ url_for('admin_interface') }}" method="post" style="display:flex;flex-direction:column;gap:8px;margin-bottom:16px;">
          <input type="text" name="school_name" placeholder="School Name" required />
          <input type="text" name="school_address" placeholder="School Address" required />
          <button class="primary" type="submit">Add School</button>
        </form>

        <!-- Registered Schools Table -->
        <table style="width:100%;border-collapse:collapse">
          <thead>
            <tr style="text-align:left;border-bottom:1px solid #eee">
              <th>School Name</th>
              <th>Address</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            {% for school in schools %}
            <tr style="border-bottom:1px solid #fafafa">
              <td>{{ school.name }}</td>
              <td>{{ school.address }}</td>
              <td>
                <a href="{{ url_for('admin_edit_school', school_id=school.id) }}">Edit</a> |
                <a href="{{ url_for('admin_delete_school', school_id=school.id) }}" onclick="return confirm('Are you sure you want to delete this school?')">Delete</a>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </section>
{% endblock %}
